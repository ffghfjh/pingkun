<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="../layui/css/layui.css">
    <script type="text/javascript" src="../js/jquery.js"></script>
</head>
<body>
<div class="layui-form-item">
    <label class="layui-form-label">发布资讯</label>
    <div class="layui-input-block">
        <form class="layui-form" action="">
            <div class="layui-form-item">
                <label class="layui-form-label">内容</label>
                <div class="layui-input-block">
                    <textarea name="context" id="context" style="display: none;">

                    </textarea>
                </div>
            </div>
        </form>
    </div>
</div>

<script type="text/javascript" src="../layui/layui.js"></script>
<script type="text/javascript">
    /**
     * 获取参数
     * @param variable
     * @returns {string|boolean}
     */
    function getQueryVariable(variable)
    {
        var query = window.location.search.substring(1);
        var vars = query.split("&");
        for (var i=0;i<vars.length;i++) {
            var pair = vars[i].split("=");
            if(pair[0] == variable){return pair[1];}
        }
        return(false);
    }

    //资讯内容
    var conts = getQueryVariable("context");
    $("#context").append(conts);

    //Demo
    layui.use(['form','layedit'], function(){
        var form = layui.form;
        var layedit = layui.layedit;

        //设置图片上传接口
        layedit.set({
            uploadImage: {
                url: '/admin/uploadImg' //接口url
                ,type: 'post' //默认post
            }
        })
        //建立编辑器
        var context = layedit.build('context');

    });
</script>
</body>
</html>